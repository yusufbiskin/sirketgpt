<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Şirket Ana Sözleşmesi Oluştur</title>
    <script>
        function ortakAlanlariGoster() {
            let ortakSayisi = document.getElementById("ortak_sayisi").value;
            let ortaklarDiv = document.getElementById("ortaklar");
            ortaklarDiv.innerHTML = '';

            for (let i = 0; i < ortakSayisi; i++) {
                ortaklarDiv.innerHTML += `
                    <div>
                        <h3>Ortak ${i + 1}</h3>
                        Ad Soyad: <input name="ortak_ad_${i}" required><br>
                        Sermaye (TL): <input type="number" name="ortak_sermaye_${i}" required><br>
                        Pay Adedi: <input type="number" name="ortak_pay_${i}" required><br>
                        T.C. Kimlik No: <input type="text" maxlength="11" name="ortak_tc_${i}" required><br>
                        Uyruk: 
                        <select name="ortak_uyruk_${i}" required>
                            <option>TÜRKİYE CUMHURİYETİ</option>
                            <option>DİĞER</option>
                        </select><br>
                        Müdür olarak atanacak mı? <input type="checkbox" name="ortak_mudur_${i}" value="evet"><br>
                        İmza Yetkisi:
                        <select name="ortak_imza_${i}">
                            <option value="münferiden">Münferiden</option>
                            <option value="müştereken">Müştereken</option>
                        </select><br><br>
                    </div>`;
            }
        }
    </script>
</head>
<body>
    <h2>Şirket Ana Sözleşmesi Oluştur</h2>
    <form action="/olustur" method="post">
        Şirket Unvanı: <input name="unvan" required><br>
        Merkez İli: <input name="merkez_il" required><br>
        Merkez İlçesi: <input name="merkez_ilce" required><br>
        Açık Adres:<br><textarea name="adres" required></textarea><br>
        Faaliyet Alanı: <input name="faaliyet" required><br>
        Ortak Sayısı:
        <select id="ortak_sayisi" name="ortak_sayisi" onchange="ortakAlanlariGoster()" required>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select><br><br>

        <div id="ortaklar">
            <!-- Ortak bilgileri burada dinamik olarak oluşturulacak -->
        </div>

        <button type="submit">Belgeyi Oluştur</button>
    </form>

    <script>
        ortakAlanlariGoster();  // Sayfa yüklenirken en az 1 ortak bilgisi gösterilsin
    </script>
</body>
</html>
